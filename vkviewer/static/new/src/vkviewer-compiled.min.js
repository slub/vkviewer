var COMPILED=!0,k=this;function l(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}var m="";
if(!COMPILED){var aa={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},ba=function(){var a=k.document;return"undefined"!=typeof a&&"write"in a},ca=function(a){if(ba()){var b=k.document;if("complete"==b.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}b.write('<script type="text/javascript" src="'+a+'">\x3c/script>');return!0}return!1};if(k.CLOSURE_BASE_PATH)m=k.CLOSURE_BASE_PATH;else if(ba())for(var da=k.document.getElementsByTagName("script"),
n=da.length-1;0<=n;--n){var p=da[n].src,ea=p.lastIndexOf("?"),fa=-1==ea?p.length:ea;if("base.js"==p.substr(fa-7,7)){m=p.substr(0,fa-7);break}}if(!k.CLOSURE_NO_DEPS){var q=m+"deps.js",ga=k.CLOSURE_IMPORT_SCRIPT||ca;!aa.written[q]&&ga(q)&&(aa.written[q]=!0)}}
function r(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return void 0!==a}function ha(a){var b=r(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}Math.random();function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}
function ka(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.base=function(a,c,f){var g=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,g)}};function u(a){this.j=s(a)?a:{};this.g=s(a)?a.map:{};this.l=s(a.NAME)?a.NAME:"";this.PANEL_ID=s(a.panel_id)?a.panel_id:void 0;this.CONTROL_ID=s(a.control_id)?a.control_id:void 0;this.p=s(a.panel_id)?"content":"click"}u.prototype.getMap=function(){return this.g};u.prototype.getName=function(){return this.l};u.prototype.getType=function(){return this.p};u.prototype.activate=function(){};u.prototype.k=function(){};function v(a){var b;a:{try{if(s(window.lang_dictionary)){b=window.lang_dictionary.toolname_layersearch;break a}}catch(c){console.log("Could not found dictionary.");b="";break a}b=void 0}a.NAME=b;u.call(this,a)}ka(v,u);u.prototype.activate=function(){console.log("SpatialSearchModule activated.")};u.prototype.k=function(){console.log("SpatialSearchModule deactivated.")};var la={projection:"EPSG:900913",minResolution:1.194328566789627,maxResolution:2445.9849047851562,extent:[640161.933,5958026.134,3585834.8011505,7847377.4901306],center:[1528150,6630500],zoom:2};function ma(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<na.length;f++)c=na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function w(a,b){this.j={};oa(this.j,a);this.g=new ol.Map({layers:[new ol.layer.Tile({source:new ol.source.OSM})],renderer:"canvas",target:b,view:new ol.View2D({projection:"EPSG:900913",minResolution:1.194328566789627,maxResolution:2445.9849047851562,extent:[640161.933,5958026.134,3585834.8011505,7847377.4901306],center:[1528150,6630500],zoom:2})})}l("VK2.Controller.MapController",w);w.prototype.getMap=function(){return this.g};w.prototype.getMap=w.prototype.getMap;function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(va,"&#39;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/"/g,va=/'/g,qa=/[&<>"']/;function x(a,b){return a<b?-1:a>b?1:0}Math.random();function wa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function xa(a){var b=t(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var y=Array.prototype,ya=y.indexOf?function(a,b,c){return y.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(t(a))return t(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=y.forEach?function(a,b,c){y.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Aa=y.filter?function(a,b,c){return y.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=t(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var K=g[h];b.call(c,K,h,a)&&(e[f++]=K)}return e};function z(a,b){return 0<=ya(a,b)}function Ba(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ca(a,b,c){return 2>=arguments.length?y.slice.call(a,b):y.slice.call(a,b,c)};function A(a){a=a.className;return t(a)&&a.match(/\S+/g)||[]}function Da(a,b){for(var c=A(a),d=Ca(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)z(f,d[g])||f.push(d[g]);f=c.join(" ");a.className=f;return c.length==e}function Ea(a,b){var c=A(a),d=Ca(arguments,1),c=Fa(c,d).join(" ");a.className=c}function Fa(a,b){return Aa(a,function(a){return!z(b,a)})};var Ga="closure_listenable_"+(1E6*Math.random()|0);function Ha(a){try{return!(!a||!a[Ga])}catch(b){return!1}}var Ia=0;function Ja(a,b,c,d,e,f){this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.key=++Ia;this.removed=this.callOnce=!1}Ja.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};function B(a){this.src=a;this.listeners={};this.typeCount_=0}B.prototype.getTypeCount=function(){return this.typeCount_};B.prototype.add=function(a,b,c,d,e){var f=this.listeners[a];f||(f=this.listeners[a]=[],this.typeCount_++);var g;a:{for(g=0;g<f.length;++g){var h=f[g];if(!h.removed&&h.listener==b&&h.capture==!!d&&h.handler==e)break a}g=-1}-1<g?(a=f[g],c||(a.callOnce=!1)):(a=new Ja(b,null,this.src,a,!!d,e),a.callOnce=c,f.push(a));return a};
B.prototype.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=this.listeners[b],d=ya(c,a),e;(e=0<=d)&&y.splice.call(c,d,1);e&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return e};var C,D,E,Ka,La;function Ma(){return k.navigator?k.navigator.userAgent:null}function F(){return k.navigator}Ka=E=D=C=!1;var G;if(G=Ma()){var Na=F();C=0==G.lastIndexOf("Opera",0);D=!C&&(-1!=G.indexOf("MSIE")||-1!=G.indexOf("Trident"));(E=!C&&-1!=G.indexOf("WebKit"))&&G.indexOf("Mobile");Ka=!C&&!E&&!D&&"Gecko"==Na.product}var Oa=C,J=D,L=Ka,M=E,N,Pa=F();N=Pa&&Pa.platform||"";La=-1!=N.indexOf("Mac");N.indexOf("Win");N.indexOf("Linux");F()&&(F().appVersion||"").indexOf("X11");var O=Ma();O&&O.indexOf("Android");
O&&O.indexOf("iPhone");O&&O.indexOf("iPad");function Qa(){var a=k.document;return a?a.documentMode:void 0}var P;a:{var Q="",R;if(Oa&&k.opera)var Ra=k.opera.version,Q="function"==typeof Ra?Ra():Ra;else if(L?R=/rv\:([^\);]+)(\)|;)/:J?R=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(R=/WebKit\/(\S+)/),R)var Sa=R.exec(Ma()),Q=Sa?Sa[1]:"";if(J){var Ta=Qa();if(Ta>parseFloat(Q)){P=String(Ta);break a}}P=Q}var Ua={};
function S(a){var b;if(!(b=Ua[a])){b=0;for(var c=String(P).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",K=RegExp("(\\d*)(\\D*)","g"),nb=RegExp("(\\d*)(\\D*)","g");do{var H=K.exec(g)||["","",""],I=nb.exec(h)||["","",""];if(0==H[0].length&&0==I[0].length)break;b=x(0==H[1].length?0:parseInt(H[1],10),0==I[1].length?0:parseInt(I[1],10))||x(0==H[2].length,0==I[2].length)||
x(H[2],I[2])}while(0==b)}b=Ua[a]=0<=b}return b}var Va=k.document,Wa=Va&&J?Qa()||("CSS1Compat"==Va.compatMode?parseInt(P,10):5):void 0;var Xa=!J||J&&9<=Wa,Ya=J&&!S("9");!M||S("528");L&&S("1.9b")||J&&S("8")||Oa&&S("9.5")||M&&S("528");L&&!S("8")||J&&S("9");function Za(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0}Za.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};function $a(a){$a[" "](a);return a}$a[" "]=function(){};function T(a,b){Za.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.event_=null;a&&this.init(a,b)}ka(T,Za);
T.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(L){var e;a:{try{$a(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;
this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=La?a.metaKey:a.ctrlKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
T.prototype.preventDefault=function(){T.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ya)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ab="closure_lm_"+(1E6*Math.random()|0),U={},bb=0;function V(a,b,c,d,e){if("array"==r(b))for(var f=0;f<b.length;f++)V(a,b[f],c,d,e);else if(c=cb(c),Ha(a))a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=db(a);g||(a[ab]=g=new B(a));c=g.add(b,c,!1,d,e);c.proxy||(d=eb(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in U?U[b]:U[b]="on"+b,d),bb++)}}
function eb(){var a=fb,b=Xa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function gb(a,b,c,d){var e=1;if(a=db(a))if(b=a.listeners[b])for(b=Ba(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(e&=!1!==hb(f,d))}return Boolean(e)}
function hb(a,b){var c=a.listener,d=a.handler||a.src;if(a.callOnce&&"number"!=typeof a&&a&&!a.removed){var e=a.src;if(Ha(e))e.unlistenByKey(a);else{var f=a.type,g=a.proxy;e.removeEventListener?e.removeEventListener(f,g,a.capture):e.detachEvent&&e.detachEvent(f in U?U[f]:U[f]="on"+f,g);bb--;(f=db(e))?(f.removeByKey(a),0==f.getTypeCount()&&(f.src=null,e[ab]=null)):a.markAsRemoved()}}return c.call(d,b)}
function fb(a,b){if(a.removed)return!0;if(!Xa){var c;if(!(c=b))a:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new T(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.propagationStopped_&&0<=h;h--)c.currentTarget=e[h],d&=gb(e[h],f,!0,c);for(h=
0;!c.propagationStopped_&&h<e.length;h++)c.currentTarget=e[h],d&=gb(e[h],f,!1,c)}return d}return hb(a,new T(b,this))}function db(a){a=a[ab];return a instanceof B?a:null}var ib="__closure_events_fn_"+(1E9*Math.random()>>>0);function cb(a){return"function"==r(a)?a:a[ib]||(a[ib]=function(b){return a.handleEvent(b)})};function jb(a,b){this.width=a;this.height=b}jb.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};var kb=!J||J&&9<=Wa;!L&&!J||J&&J&&9<=Wa||L&&S("1.9.1");J&&S("9");function W(a){var b=document;return t(a)?b.getElementById(a):a}function lb(a,b){ma(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in mb?a.setAttribute(mb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var mb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function X(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!kb&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',pa(g.name),'"');if(g.type){f.push(' type="',pa(g.type),'"');var h={};oa(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=e.createElement(f);g&&(t(g)?f.className=g:"array"==r(g)?Da.apply(null,[f].concat(g)):lb(f,g));2<d.length&&ob(e,f,d);return f}
function ob(a,b,c){function d(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ha(f)||ia(f)&&0<f.nodeType?d(f):za(pb(f)?Ba(f):f,d)}}function pb(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if("function"==r(a))return"function"==typeof a.item}return!1};function Y(a,b){t("display")?qb(a,b,"display"):ma("display",ja(qb,a))}function qb(a,b,c){var d;a:if(d=wa(c),void 0===a.style[d]&&(c=(M?"Webkit":L?"Moz":J?"ms":Oa?"O":null)+xa(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}
function rb(a){var b=tb,c;a:{c=9==a.nodeType?a:a.ownerDocument||a.document;if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c.display||c.getPropertyValue("display")||"";break a}c=""}if("none"!=(c||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);c=a.style;var d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}
function tb(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;if((!s(b)||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(f){e={left:0,top:0,right:0,bottom:0};break a}J&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new jb(e.right-e.left,e.bottom-e.top)}return new jb(b,c)};function ub(a){if(W(a))this.c=W(a),this.d=[],this.n="vk2SidebarIcon",this.m="vk2SBControlBtn",this.o="vk2ToolActivate",vb(this);else throw Error("Invalide sidebar container id for appending the sidebar controller.");}l("VK2.Controller.SidebarController",ub);
function vb(a){a.f=X("div",{id:"vk2SBContentPanel","class":"vk2SBContentPanel"});a.c.appendChild(a.f);var b=X("div",{id:"vk2SBHeaderPanel","class":"vk2SBHeaderPanel"});a.f.appendChild(b);var c=X("div",{id:"vk2SBHeaderLabel","class":"vk2SBHeaderLabel"});b.appendChild(c);c=X("button",{type:"button",innerHTML:"&times;","aria-hidden":"true",id:"vk2SBClose","class":"close vk2SBClose"});b.appendChild(c);V(c,"click",function(){Z(this);wb(this)},!1,a);a.h=X("div",{id:"vk2SidebarBodyPanel","class":"vk2SidebarBodyPanel"});
a.f.appendChild(a.h)}function wb(a){s(a.i)||(a.i=rb(a.c).width);var b=a.f;z(A(a.c),"open")&&$(a.c).animate({right:"-"+a.i+"px"},300,function(){Y(b,"none")}).removeClass("open")}function Z(a){for(var b=0;b<a.d.length;b++){a.d[b].k();var c=W(a.d[b].PANEL_ID);Ea(W(a.d[b].CONTROL_ID),"open");null!=c&&Y(c,"none")}}function xb(a,b){Z(a);b.activate();W("vk2SBHeaderLabel").innerHTML="<h4>"+b.getName()+"</h4>";var c=W(b.PANEL_ID);Da(W(b.CONTROL_ID),"open");null!=c&&Y(c,"block")}
function yb(a,b){var c=X("a",{id:b.CONTROL_ID,"class":b.CONTROL_ID+" "+a.m});c.setAttribute("value",b.PANEL_ID);a.c.appendChild(c);var d=X("span",{"class":a.n});c.appendChild(d);"vk2LayerbarControl"==b.CONTROL_ID&&(c=X("span",{"class":"badge pull-right",id:"vk2-layerbar-badge-counter",innerHTML:""}),d.appendChild(c));null!=W(b.PANEL_ID)&&(a.h.appendChild(W(b.PANEL_ID)),Da(W(b.PANEL_ID),a.o))}
function zb(a,b){yb(a,b);V(W(b.CONTROL_ID),"click",function(a){z(A(a.currentTarget),"open")?(Z(this),wb(this)):(xb(this,b),Y(W(this.f),"block"),$(this.c).animate({right:"-3px"},300).addClass("open"))},!1,a)}function Ab(a,b){yb(a,b);V(W(b.CONTROL_ID),"click",function(a){z(A(a.currentTarget),"open")?Z(this):xb(this,b);wb(this)},!1,a)}function Bb(a,b){switch(b.getType()){case "content":zb(a,b);a.d.push(b);break;case "click":Ab(a,b),a.d.push(b)}};l("VK2.Utils.AppLoader",function(){var a=new w(la,"mapdiv"),b=new ub("vk2SBPanel"),c=new v({map:a.getMap(),panel_id:"vk2LayersearchPanel",control_id:"vk2LayersearchControl"});Bb(b,c);a=new v({map:a.getMap(),control_id:"vk2GeorefControl"});Bb(b,a);window.sb=b;window.ssm=c});
