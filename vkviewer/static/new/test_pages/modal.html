<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="/lib/bootstrap.min.css">
		<style>
		html, body{
			width: 100%;
			height: 100%
		}
		.bs-example-modal-lg .modal-content{
			height: 600px;
		}
		
		.test-modal .modal-content{
			height: 600px;
			overflow: auto;
		}
		
		.iframe-class{
			width: 100%;
			height: 600px;
		}
		
		</style>	
		<script src="/lib/jquery.min.js"></script>
		<script src="/lib/jquery-ui.min.js"></script>
		<script src="/lib/bootstrap.min.js"></script> 
		<script src="/lib/closure-library/closure/goog/base.js"></script>
		<script src="/src/utils/modal.js"></script>
		<script>
			goog.require('VK2.Utils.Modal');
		</script>
	</head>
	<body>
	
	<h1>Test Page</h1>
	<a href="#" data-toggle="modal" data-target=".bs-example-modal-lg" data-src="http://localhost:8080/vkviewer/development" id="test">Test Link</a>
	<button class="btn btn-primary" id="test2">Large modal</button>
	<!-- <button class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-lg">Large modal</button> -->
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
	  <div class="modal-dialog modal-lg">
	    <div class="modal-content">
			<div class="modal-header">
	        	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        	<h4 class="modal-title">Modal title</h4>
	      	</div>
	      	<div class="modal-body">
	      		<iframe frameborder="0" id="content-iframe"></iframe>
	      	</div>
	      	<div class="modal-footer">
	        	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        	<button type="button" class="btn btn-primary">Save changes</button>
	      	</div>
	    </div><!-- /.modal-content -->
	  </div>
	</div>
	
	<script type="text/javascript">
		var url = 'http://localhost:8080/vkviewer/development';
		$('#test').on('click', function(e){
			var src = $(this).attr('data-src');
			var height = $(this).attr('data-height') || 300;
			var width = $(this).attr('data-width') || 400;
			
			$('.bs-example-modal-lg iframe').attr({
				'src':src,'height':height,'width':width
			})
		});
		
		var modal;
		$('#test2').on('click', function(e){
			if (!goog.isDef(modal)){
				modal = new VK2.Utils.Modal('test-modal',document.body);
			};
			
			modal.open('Test Modal', {
				'href':'http://localhost:8080/vkviewer/development',
				'classes':'iframe-class'
			});
		});
	</script>
	
	</body>
</html>